name: RateLimiter
description: QoS template set - Create a Rate Limiter
template-version: 1.0
software-type: Nuage Networks VSD
software-version: 5.0.2
variables:
  - name: enterprise_name
    type: reference
  - name: rate_limiter_name
    type: string
  - name: committed_information_rate
    type: integer
  - name: peak_information_rate
    type: integer
  - name: peak_burst_size
    type: integer
  - name: description
    type: string
    optional: true
actions:
  - select-object:
      type: Enterprise
      by-field: name
      value: {{ enterprise_name }}
      actions:
        - create-object:
            type: RateLimiter
            actions:
              - set-values:
                  name: {{ rate_limiter_name }}
                  description: {{ description | default("rate limiter " + rate_limiter_name | default("")) }}
                  committedInformationRate: {{ committed_information_rate }}
                  peakBurstSize: {{ peak_burst_size }}
                  peakInformationRate: {{ peak_information_rate }}
