name: InfrastructureVscProfile
description: NSG template set - Create an Infrastructure VSC Profile
template-version: 1.0
software-type: Nuage Networks VSD
software-version: 5.1.1
variables:
  - name: infrastructure_vsc_profile_name
    type: string
  - name: description
    type: string
    optional: true
  - name: primary_controller_address
    type: string
    optional: true
  - name: secondary_controller_address
    type: string
    optional: true
  - name: probe_interval_msec
    type: integer
    optional: true

actions:
  - create-object:
      type: InfrastructureVscProfile
      actions:
        - set-values:
            name: {{ infrastructure_vsc_profile_name }}
            description: {{ description | default("Infrastructure VSC Profile " + infrastructure_vsc_profile_name | default("")) }}
            {% if primary_controller_address is defined %}
            firstController: {{ primary_controller_address }}
            {% endif %}
            {% if secondary_controller_address is defined %}
            secondController: {{ secondary_controller_address }}
            {% endif %}
            {% if probe_interval_msec is defined %}
            probeInterval: {{ probe_interval_msec }}
            {% endif %}
