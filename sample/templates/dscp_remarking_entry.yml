name: DscpRemarkingEntry
description: QoS template set - Create an DSCP Remarking Entry
template-version: 1.0
software-type: Nuage Networks VSD
software-version: 5.1.1
variables:
  - name: enterprise_name
    type: reference
    optional: true
  - name: dscp_remarking_policy_name
    type: reference
  - name: forwarding_class
    type: choice
    choices: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H']
  - name: dscp
    type: string
actions:
  {% if enterprise_name is defined %}
  - select-object:
      type: Enterprise
      by-field: name
      value: {{ enterprise_name }}
      actions:
  {% endif %}
        - select-object:
            type: DSCPRemarkingPolicyTable
            by-field: name
            value: {{ dscp_remarking_policy_name }}
            actions:
            - create-object:
                type: DSCPRemarkingPolicy
                actions:
                  - set-values:
                      DSCP: {{ dscp }}
                      forwardingClass: {{ forwarding_class }}
